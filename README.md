# 海鹽摺紙 - Sea Salt & Paper Online

一個用 React + Firebase 構建的線上卡牌遊戲
根據法國藝術家 Pierre-Yves Gallard 的成套收集遊戲改編

## 🚀 快速開始 (3 步)

### Step 1: Clone 或 Download
```bash
git clone https://github.com/yanchen184/sea-salt-paper.git
cd sea-salt-paper
```

### Step 2: 安裝依賴
```bash
npm install
```

### Step 3: 運行
```bash
npm run dev
```

打開 http://localhost:5173 開始遊戲！

## 🎮 遊戲特色

✨ 2-4 人即時多人對戰
🎴 完整海鹽摺紙規則 (64 張卡牌)
🔥 Firebase 實時同步
🌈 美觀響應式設計
📱 支持桌面和手機
🧠 心理博弈 - 風險管理機制

## 📝 遊戲規則

### 🎯 勝利條件
- **2 人遊戲**：達到 40 分
- **3 人遊戲**：達到 35 分
- **4 人遊戲**：達到 30 分

### 🔄 每回合流程

#### 第 1 步：選擇拿牌方式（2 選 1）
- **從牌庫抽牌**：抽 2 張，選 1 張加入手牌，另 1 張放到任一棄牌堆
- **從棄牌堆拿**：直接拿棄牌堆最上面的 1 張

#### 第 2 步：可選 - 打出配對發動能力
拿牌後，如果手上有一對相同的牌，可以選擇打出發動該牌的能力

**4 種配對能力**：
1. 🦈 **鯊魚 + 人** → 偷對手一張手牌
2. 🦀 **螃蟹 + 螃蟹** → 從任一棄牌堆拿任意一張牌（不改變棄牌堆順序）
3. 🐟 **魚 + 魚** → 抽牌庫頂一張牌
4. ⛵ **船 + 船** → 再做一回合

#### 第 3 步：計分檢查
當你的手牌 + 場上卡牌 ≥ 7 分時，可以選擇宣告結束此輪

### 📊 計分與宣告

#### 宣告的 2 種方式

**「到此為止」**
- 立即進入計分階段
- 所有玩家計算手牌 + 場上卡牌的分數

**「最後機會」**
- 其他玩家還能再進行一回合
- 然後進入計分階段
- 比較分數高低

#### 計分規則（最關鍵的心理博弈）

如果宣告者的分數 > 所有對手的分數：
- ✅ 宣告者：計算所有牌的分數 + 顏色最多的牌張數（每張+1分）
- ❌ 其他玩家：只計算顏色最多的牌張數

如果宣告者的分數 ≤ 任何對手：
- ❌ 宣告者：只計算顏色最多的牌張數
- ✅ 其他玩家：計算所有牌的分數 + 顏色最多的牌張數

### 🎴 卡牌類型與計分

| 卡牌 | 分數 | 數量 | 描述 |
|------|------|------|------|
| 🐟 魚 | 1 分 | 8 張 | 配對效果：抽牌 |
| 🦀 螃蟹 | 2 分 | 8 張 | 配對效果：撈牌 |
| ⛵ 船 | 3 分 | 8 張 | 配對效果：額外回合 |
| 🦈 鯊魚 + 👤 人 | 4 分 | 8+8 張 | 配對效果：偷牌 |
| 🐚 貝殼 | 1 分 | 8 張 | 集合牌 |
| 🐙 章魚 | 2 分 | 8 張 | 集合牌 |
| 🐧 企鵝 | 3 分 | 8 張 | 集合牌 |

總計 64 張卡牌

### 🏆 勝利方式

**達到目標分數**的玩家獲勝

## 🔧 技術棧

- **React 18** - UI 框架
- **Firebase Firestore** - 實時數據同步
- **Vite** - 構建工具
- **CSS3** - 樣式

## 📦 項目結構

```
src/
├── components/          # React 組件
│   ├── Card.jsx        # 卡牌顯示
│   ├── GameBoard.jsx   # 遊戲主界面
│   ├── GameOver.jsx    # 遊戲結束
│   ├── HomePage.jsx    # 主頁
│   └── RoomLobby.jsx   # 房間大廳
├── config/             # 配置
│   ├── firebase.js
│   └── firebaseDb.js
├── data/               # 遊戲數據
│   ├── cards.js        # 卡牌定義
│   └── gameRules.js    # 遊戲規則邏輯
├── services/           # Firebase 服務
│   └── gameService.js
├── styles/             # CSS 樣式
├── utils/              # 工具函數
│   └── gameLogic.js    # 核心遊戲邏輯
├── App.jsx
└── main.jsx
```

## 🎯 版本歷史

**v1.1.0** (2024-11-08) - 正式版發布
- ✅ 完整遊戲邏輯（根據官方規則）
- ✅ 2-4 人多人對戰
- ✅ Firebase 實時同步
- ✅ 美觀 UI 設計
- ✅ 計分系統

**v1.0.0** - 初始版本

## 📝 License

MIT

---

**相關資訊**
- [GitHub 倉庫](https://github.com/yanchen184/sea-salt-paper)
- [Firebase 項目](https://console.firebase.google.com/project/sea-salt-5fb51)
- [遊戲原作者](https://www.pierregallard.net/)